#!gbuild
[Program]

    -DSDRAM_NOSDRAM=$(SDRAM_NOSDRAM)

    #---------------------------------------------------------------------------
    # There are no comments for these. I wish there were...
    #---------------------------------------------------------------------------

	-Iunit_test
	-I$OUTDIR

    #---------------------------------------------------------------------------
    # Put object files in the player-specific output directory.
    #---------------------------------------------------------------------------

	-object_dir=$OUTDIR\objs
	:outputDir=$OUTDIR\objs

    #---------------------------------------------------------------------------
    # Put binaries in the LIBDIR under player. I suspect it needs to go there
    # because our post-link analysis tools want to have a look at it within the
    # context of the other files generated by the link - but I don't know for
    # sure.
    #---------------------------------------------------------------------------

	:binDir=$OUTDIR

	--quit_after_warnings
    
#--- C++ options
	# Extended Embedded C++
	--ee
	
	# Extended Embedded C++ Library without Exceptions
	--eel
	
	--no_exceptions
	--no_rtti
	--one_instantiation_per_object
	--readonly_virtual_tables

    #---------------------------------------------------------------------------
    # Put the call to 'new' in the caller rather than the constructor. Contrary
    # to the GHS documentation, this usually produces smaller code, and also
    # makes tracking out-of-memory conditions a lot easier.
    #---------------------------------------------------------------------------
	--new_outside_of_constructor
    
    # Put the compiler into GNU mode.
#	-gnu

# Test source files
src\lba_test_entry.cpp
src\lba_hal_test.cpp
#drivers\media\lba_nand\examples\ddi_lba_nand_media_definition.c

# Libraries
drivers\media\lba_nand\ddi_lba_nand_use_lib.gpj		[Subproject]
drivers\media\nand\gpmi\ddi_nand_gpmi_use_lib.gpj		[Subproject]
drivers\media\DDILDL\ddi_ldl_use_lib.gpj		[Subproject]
hw\otp\hw_otp_use_lib.gpj		[Subproject]
hw\core\hw_core_use_lib.gpj		[Subproject]
hw\profile\hw_profile_use_lib.gpj		[Subproject]
hw\digctl\hw_digctl_use_lib.gpj		[Subproject]
hw\lradc\hw_lradc_use_lib.gpj		[Subproject]
drivers\clocks\ddi_clocks_use_lib.gpj		[Subproject]
drivers\media\buffer_manager\media_buffer_manager_use_lib.gpj		[Subproject]
drivers\media\cache\media_cache_use_lib.gpj		[Subproject]
drivers\rtc\ddi_rtc_use_lib.gpj		[Subproject]
os\dmi\os_dmi_use_lib.gpj		[Subproject]
os\eoi\os_eoi_use_lib.gpj		[Subproject]
os\thi\os_thi_use_lib.gpj		[Subproject]

# Stubs
stub\vmi-stub.c

# Framework
$(FRAMEWORK_PROJECT_DIR)\$(FRAMEWORK_PROJECT)		[Subproject]
$OUTDIR\$(PROJECT_NAME).map

# Sources
application\framework\sdk_os_media_player\hostlink\src\sdk_hostlink_stubs.c
$ROOT/os/dmi/src/os_dmi_malloc_free.c

